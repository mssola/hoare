
bison_target(PARSER parser.y ${CMAKE_CURRENT_BINARY_DIR}/parser.cpp)

# The code generated by bison does not compile with my strict warning clauses.
# Let's relax them a bit for just this file.
set_source_files_properties(${CMAKE_CURRENT_BINARY_DIR}/parser.cpp
  PROPERTIES COMPILE_FLAGS "-Wno-sign-conversion -Wno-old-style-cast")

add_library(parser STATIC
  ${BISON_PARSER_OUTPUTS}
  driver.cpp
  scanner.cpp
)

target_link_libraries(parser
  ast
  codegen
  utils
)

